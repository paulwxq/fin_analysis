# 股票分析系统配置文件
# 请复制此文件为.env并填写实际值

# ========== 必需配置 ==========
# PostgreSQL数据库连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名
DATABASE_DSN=postgresql://postgres:your_password@localhost:5432/fin_db

# OpenAI API密钥
# 从 https://platform.openai.com/api-keys 获取
OPENAI_API_KEY=sk-your-api-key-here

# ========== LLM配置 ==========
# 使用的模型（推荐gpt-4o或更强模型作为Manager）
# 可选: gpt-4o, gpt-4-turbo, gpt-4, gpt-3.5-turbo
LLM_MODEL=gpt-4o

# LLM Temperature（0-2，越高越随机，越低越确定）
# 推荐: 开发阶段0.3（稳定），生产阶段0.7（有创造力）
LLM_TEMPERATURE=0.7

# ========== Magentic编排配置 ==========
# 最大停滞次数（连续无进展后判定为停滞）
# 推荐: 3-5，太低容易误判，太高浪费Token
MAX_STALL_COUNT=3

# 最大重置次数（停滞后允许重新规划的次数）
# 推荐: 2，过多会导致成本飙升
MAX_RESET_COUNT=2

# 是否启用计划审查（人在回路）
# true: 每次Manager生成计划时需要人工批准
# false: 完全自动运行
ENABLE_PLAN_REVIEW=true

# 是否自动批准计划（调试用）
# true: 自动批准所有计划（用于批量处理）
# false: 等待人工输入（用于开发调试）
AUTO_APPROVE_PLAN=false

# ========== 分析配置 ==========
# 默认查询K线数据的月数
DEFAULT_LOOKBACK_MONTHS=12

# 板块分析的时间范围（月）
SECTOR_ANALYSIS_MONTHS=6

# 公司研究的时间范围（月）
COMPANY_RESEARCH_MONTHS=6

# ========== 输出配置 ==========
# 报告输出目录
OUTPUT_DIR=./outputs

# 是否将报告保存为文件
SAVE_REPORTS=true

# ========== 日志配置 ==========
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 是否启用OpenTelemetry遥测
# 需要配置OTLP端点
ENABLE_TELEMETRY=false

# ========== 高级配置（可选） ==========
# OpenTelemetry导出端点（如果启用遥测）
# OTLP_ENDPOINT=localhost:4317

# API请求超时（秒）
# API_TIMEOUT=120

# Web搜索配额（每个Agent每次分析的最大搜索次数）
# WEB_SEARCH_QUOTA=10
